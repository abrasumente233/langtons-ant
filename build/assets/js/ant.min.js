"use strict";!function(){var t=50,e=70,a={x:Math.floor(e/2),y:Math.floor(t/2)},n=["top","right","bottom","left"],s=500,i=new signals.Signal,r=React.createClass({displayName:"SquareLattice",getInitialState:function(){for(var t=[],n=0;e>n;n++){t[n]=[];for(var s=0;e>s;s++)t[n][s]=!1}return{antX:a.x,antY:a.y,antDirection:3,color:t}},componentDidMount:function(){var t=function(){var e=document.getElementsByClassName("ant")[0],a=e.getAttribute("class"),n=a.indexOf("white")>-1,r=n?(this.state.antDirection+1)%4:this.state.antDirection-1===-1?3:this.state.antDirection-1,o=r%2!==0?1===r?this.state.antX+1:this.state.antX-1:this.state.antX,c=r%2===0?0===r?this.state.antY-1:this.state.antY+1:this.state.antY;console.log(r,o,c),this.state.color[this.state.antX][this.state.antY]=!this.state.color[this.state.antX][this.state.antY],this.setState({antX:o,antY:c,antDirection:r}),i.dispatch(r,o,c,0>o||0>c),setTimeout(t,s)}.bind(this);setTimeout(t,s)},render:function(){for(var a=[],n=0;t>n;n++){for(var s=[],i=0;e>i;i++)s[i]=React.createElement(o,{ant:i===this.state.antX&&n===this.state.antY,color:this.state.color[i][n]?"black":"white"});a[n]=React.createElement("div",{className:"row"},s)}return React.createElement("div",null,a)}}),o=React.createClass({displayName:"Cell",propTypes:{ant:React.PropTypes.bool.isRequired,color:React.PropTypes.string.isRequired},getInitialState:function(){var t=this.props.x==a.x&&this.props.y==a.y,e="white";return{status:e,ant:t}},render:function(){var t=React.addons.classSet,e=t("cell",this.props.color,this.props.ant?"ant":"");return this.props.ant&&console.log("ok"),React.createElement("div",{className:e})}}),c=React.createClass({displayName:"Langton",render:function(){return React.createElement("div",null,React.createElement(r,null),React.createElement(l,null))}}),l=React.createClass({displayName:"Scoreboard",getInitialState:function(){return{delay:s,movement:0,direction:-1,x:-1,y:-1,out:!1}},onMove:function(t,e,a,n){this.setState({movement:this.state.movement+1,direction:t,x:e,y:a,out:n})},componentDidMount:function(){i.add(this.onMove)},handleChange:function(t){s=+t.target.value,this.setState({delay:+t.target.value})},render:function(){return React.createElement("div",{id:"scoreboard"},React.createElement("h1",null,"Stats"),React.createElement("p",null,"Movement: ",this.state.movement," time(s)"),React.createElement("p",null,"Direction: ",n[this.state.direction]),React.createElement("p",null,"Position: ",this.state.x+", "+this.state.y),React.createElement("p",null,"Out of border: ",this.state.out+""),React.createElement("label",{htmlFor:"delay"},"Delay "),React.createElement("input",{type:"number",step:"50",min:"1",name:"delay",onChange:this.handleChange,value:this.state.delay}))}});React.render(React.createElement(c,null),document.getElementById("content"))}();