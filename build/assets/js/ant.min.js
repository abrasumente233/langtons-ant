"use strict";!function(){var t=50,e=70,a={x:Math.floor(e/2),y:Math.floor(t/2)},n=500,s=React.createClass({displayName:"SquareLattice",getInitialState:function(){for(var t=[],n=0;e>n;n++){t[n]=[];for(var s=0;e>s;s++)t[n][s]=!1}return{antX:a.x,antY:a.y,antDirection:3,color:t}},componentDidMount:function(){this.moved=this.props.signal;var t=function(){var e=document.getElementsByClassName("ant")[0],a=e.getAttribute("class"),s=a.indexOf("white")>-1,i=s?(this.state.antDirection+1)%4:this.state.antDirection-1===-1?3:this.state.antDirection-1,o=i%2!==0?1===i?this.state.antX+1:this.state.antX-1:this.state.antX,r=i%2===0?0===i?this.state.antY-1:this.state.antY+1:this.state.antY;console.log(i,o,r),this.state.color[this.state.antX][this.state.antY]=!this.state.color[this.state.antX][this.state.antY],this.setState({antX:o,antY:r,antDirection:i}),this.moved.dispatch(i,o,r),setTimeout(t,n)}.bind(this);setTimeout(t,n)},render:function(){for(var a=[],n=0;t>n;n++){for(var s=[],o=0;e>o;o++)s[o]=React.createElement(i,{ant:o===this.state.antX&&n===this.state.antY,color:this.state.color[o][n]?"black":"white"});a[n]=React.createElement("div",{className:"row"},s)}return React.createElement("div",null,a)}}),i=React.createClass({displayName:"Cell",propTypes:{ant:React.PropTypes.bool.isRequired,color:React.PropTypes.string.isRequired},getInitialState:function(){var t=this.props.x==a.x&&this.props.y==a.y,e="white";return{status:e,ant:t}},render:function(){var t=React.addons.classSet,e=t("cell",this.props.color,this.props.ant?"ant":"");return this.props.ant&&console.log("ok"),React.createElement("div",{className:e})}}),o=React.createClass({displayName:"Langton",render:function(){var t=signals.Signal();return React.createElement("div",null,React.createElement(s,{signal:t}),React.createElement(r,{signal:t}))}}),r=React.createClass({displayName:"Scoreboard",getInitialState:function(){return{movement:0,direction:-1,x:-1,y:-1}},onMove:function(t,e,a){this.setState({movement:this.state.movement+1,direction:t,x:e,y:a})},componentDidMount:function(){this.props.signal.add(this.onMove)},render:function(){return React.createElement("div",{id:"scoreboard"},React.createElement("p",null,"Movement: ",movement," time(s)"))}});React.render(React.createElement(o,null),document.getElementById("content"))}();